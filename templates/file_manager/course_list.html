{% extends "file_manager/base_files.html" %}

{% block title %}üìö –ö—É—Ä—Å—ã{% endblock %}
{% block files_content %}
<div class="d-flex justify-content-between align-items-center mb-4">
    <h1 class="h3">–ö—É—Ä—Å—ã</h1>
    <div>
        <a href="{% url 'file_manager:file_list_all' %}" class="btn btn-outline-secondary">–í—Å–µ —Ñ–∞–π–ª—ã</a>
    </div>
</div>

<div class="row">
    {% for item in courses %}
    <div class="col-md-4 mb-3">
        <div class="card shadow-sm h-100">
            <div class="card-body d-flex flex-column">
                <div class="d-flex align-items-center mb-3">
                    <div class="rounded-circle bg-secondary text-white d-flex align-items-center justify-content-center me-3" style="width:48px;height:48px;">
                        <i class="bi bi-book"></i>
                    </div>
                    <div>
                        <h5 class="mb-0"><a href="{% url 'file_manager:course_files' item.course.id %}">{{ item.course.title }}</a></h5>
                        <small class="text-muted">{{ item.course.instructor.username }}</small>
                    </div>
                </div>
                <p class="text-muted mb-3">{{ item.course.short_description|default:item.course.description|truncatechars:120 }}</p>
                <div class="mt-auto d-flex justify-content-between align-items-center">
                    <small class="text-muted">–§–∞–π–ª–æ–≤: {{ item.files_count }}</small>
                    <a href="{% url 'file_manager:course_files' item.course.id %}" class="btn btn-sm btn-primary">–û—Ç–∫—Ä—ã—Ç—å</a>
                </div>
            </div>
        </div>
    </div>
    {% empty %}
    <div class="col-12">
        <div class="card">
            <div class="card-body text-center py-5">
                <i class="bi bi-building" style="font-size: 3rem; color: #dee2e6;"></i>
                <h4 class="mt-3">–ù–µ—Ç –∫—É—Ä—Å–æ–≤</h4>
                <p class="text-muted">–°–æ–∑–¥–∞–π—Ç–µ –∫—É—Ä—Å –≤ –º–æ–¥—É–ª–µ Classroom Core</p>
            </div>
        </div>
    </div>
    {% endfor %}
</div>
{% endblock %}
